<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Mon Caveau - Se connecter</title>

    <link rel="icon" type="image/x-icon" href="/v1/icon/favicon.ico">
    <link rel="stylesheet" href="/v1/css/login.css">
</head>

<body>

    <div class="container">
        <img src="/v1/images/logo.png" alt="Logo de moncaveau.com" class="logo">

        <h1>Se connecter</h1>

        <form id="loginForm" method="POST">
            <div class="input-group">
                <input type="text" name="account_key" id="account_key" placeholder="xxxxxx-xxxxxx-xxxxxx" maxlength="20"
                    pattern="\d{6}-\d{6}-\d{6}" required>
            </div>

            <button type="submit" class="login-button">Se connecter</button>
        </form>

        <div class="info-text">
            <p>Vous n'avez pas de compte ?</p>
            <p><button class="register-button" onclick="generateAccountKey()">Créer un compte</button></p>
        </div>
    </div>

    <div id="loggedInModal" class="modal">
        <div class="modal-content">
            <h2 id="loggedInTitle">Vous êtes déjà connecté !</h2>
            <p>Redirection vers votre tableau de bord dans <span id="countdown">3</span> secondes...</p>
        </div>
    </div>

    <div id="errorModal" class="modal">
        <div class="modal-content">
            <h2>Erreur</h2>
            <p>Clé de compte invalide. Veuillez réessayer.</p>
            <button onclick="closeModal('errorModal')">Fermer</button>
        </div>
    </div>

    <script src="/v1/js/login.js"></script>
    <script>
        offerRedirectIfAlreadyLoggedIn({{.LoggedIn }});
    </script>

</body>

</html>